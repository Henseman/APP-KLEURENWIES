<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kleurenwies Score App</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin: 20px;
            background-color: #2c3e50;
            color: white;
        }
        .container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }
        .row {
            display: flex;
            gap: 10px;
        }
        input, button {
            padding: 10px;
            font-size: 16px;
            border: none;
            cursor: pointer;
        }
        button {
            background-color: #3498db;
            color: white;
            min-width: 100px;
        }
        button.active {
            background-color: green;
        }
        button.disabled {
            background-color: red;
            cursor: not-allowed;
        }
        table {
            width: 50%;
            margin: auto;
            border-collapse: collapse;
        }
        th, td {
            border: 1px solid white;
            padding: 10px;
            text-align: center;
        }
        th {
            background-color: darkred;
        }
    </style>
</head>
<body>
    <h2>Kleurenwies Score App</h2>
    <div class="container">
        <div class="row">
            <input type="text" id="speler1" placeholder="Speler 1">
            <input type="text" id="speler2" placeholder="Speler 2">
            <input type="text" id="speler3" placeholder="Speler 3">
            <input type="text" id="speler4" placeholder="Speler 4">
        </div>
        <h3>Ronde: <span id="ronde">1</span> | Gever: <span id="gever">Speler 1</span></h3>
        <h3>Contract selecteren:</h3>
        <div id="contractContainer" class="row"></div>
        <h3>Wie zet?</h3>
        <div id="zetterContainer" class="row"></div>
        <h3>Wie speelt mee?</h3>
        <div id="teamgenotenContainer" class="row"></div>
        <h3>Behaalde slagen:</h3>
        <div id="slagenContainer" class="row"></div>
        <button id="berekenScore">Bereken Score</button>
        <button id="resetScores">Reset Scores</button>
    </div>
    <h3>Huidige Scores:</h3>
    <table>
        <tr>
            <th>Speler</th>
            <th>Score</th>
        </tr>
        <tr><td id="naam1">Speler 1</td><td id="score1">0</td></tr>
        <tr><td id="naam2">Speler 2</td><td id="score2">0</td></tr>
        <tr><td id="naam3">Speler 3</td><td id="score3">0</td></tr>
        <tr><td id="naam4">Speler 4</td><td id="score4">0</td></tr>
    </table>
    <h3>Historiek:</h3>
    <div id="historiek"></div>
    <script>
        const contracts = ["Samen 8", "Solo 5", "Samen 9", "Solo 6", "Samen 10", "Solo 7", "Samen 11", "Kleine Miserie", "Samen 12", "Solo 8", "Piccolo", "Samen 13", "Solo 9", "Troel 8", "Grote Miserie", "Solo 10", "Solo 11", "Open Miserie", "Solo 12", "Solo Slim 13"];
        const spelers = ["1", "2", "3", "4"];
        let gekozenContract = "";
        let zetter = "";
        let teamgenoten = [];
        let behaaldeSlagen = 0;

        function maakKnoppen(containerId, items, klikActie) {
            const container = document.getElementById(containerId);
            container.innerHTML = "";
            items.forEach(item => {
                const btn = document.createElement("button");
                btn.innerText = item;
                btn.onclick = () => klikActie(btn, item);
                container.appendChild(btn);
            });
        }

        function selecteerContract(btn, contract) {
            document.querySelectorAll("#contractContainer button").forEach(b => b.classList.remove("active"));
            btn.classList.add("active");
            gekozenContract = contract;
        }

        function selecteerZetter(btn, speler) {
            document.querySelectorAll("#zetterContainer button").forEach(b => b.classList.remove("active"));
            btn.classList.add("active");
            zetter = speler;
            teamgenoten = [];
            maakTeamgenotenKnoppen();
        }

        function selecteerTeamgenoot(btn, speler) {
            if (teamgenoten.includes(speler)) {
                teamgenoten = teamgenoten.filter(t => t !== speler);
                btn.classList.remove("active");
            } else if (teamgenoten.length < 1) {
                teamgenoten.push(speler);
                btn.classList.add("active");
            }
        }

        function maakTeamgenotenKnoppen() {
            const container = document.getElementById("teamgenotenContainer");
            container.innerHTML = "";
            spelers.forEach(speler => {
                if (speler !== zetter) {
                    const btn = document.createElement("button");
                    btn.innerText = `Speler ${speler}`;
                    btn.onclick = () => selecteerTeamgenoot(btn, speler);
                    container.appendChild(btn);
                }
            });
        }

        function selecteerSlagen(btn, slagen) {
            document.querySelectorAll("#slagenContainer button").forEach(b => b.classList.remove("active"));
            btn.classList.add("active");
            behaaldeSlagen = slagen;
        }

        function updateNamen() {
            spelers.forEach((speler, index) => {
                document.getElementById(`naam${speler}`).innerText = document.getElementById(`speler${speler}`).value || `Speler ${speler}`;
            });
        }

        document.getElementById("berekenScore").onclick = () => {
            console.log("Berekening: Contract", gekozenContract, "Zetter", zetter, "Teamgenoten", teamgenoten, "Slagen", behaaldeSlagen);
        };

        maakKnoppen("contractContainer", contracts, selecteerContract);
        maakKnoppen("zetterContainer", spelers.map(s => `Speler ${s}`), selecteerZetter);
        maakKnoppen("slagenContainer", Array.from({ length: 14 }, (_, i) => i), selecteerSlagen);
    </script>
</body>
</html>
