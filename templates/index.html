<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kleurenwies Score App</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background-color: #2c3e50;
            color: white;
        }
        .container {
            width: 80%;
            margin: auto;
        }
        .button-group button {
            padding: 10px;
            font-size: 16px;
            margin: 5px;
            border: none;
            cursor: pointer;
            width: 120px;
        }
        .selected {
            background-color: green;
        }
        .disabled {
            background-color: red;
            pointer-events: none;
        }
        .contracten, .zetten, .teamgenoten, .slagen {
            margin-top: 15px;
        }
        table {
            width: 60%;
            margin: auto;
            border-collapse: collapse;
        }
        th, td {
            border: 1px solid white;
            padding: 10px;
            text-align: center;
        }
        th {
            background-color: darkred;
        }
    </style>
</head>
<body>
    <div class="container">
        <h2>Kleurenwies Score App</h2>
        
        <div>
            <label>Speler 1: <input type="text" id="speler1" placeholder="Naam Speler 1"></label>
            <label>Speler 2: <input type="text" id="speler2" placeholder="Naam Speler 2"></label>
            <label>Speler 3: <input type="text" id="speler3" placeholder="Naam Speler 3"></label>
            <label>Speler 4: <input type="text" id="speler4" placeholder="Naam Speler 4"></label>
        </div>

        <h3>Ronde: <span id="ronde">1</span> | Gever: <span id="gever">Speler 1</span></h3>

        <div class="contracten">
            <h3>Kies een contract:</h3>
            <div id="contractButtons" class="button-group"></div>
        </div>

        <div class="zetten">
            <h3>Wie zet?</h3>
            <div id="zetterButtons" class="button-group"></div>
        </div>

        <div class="teamgenoten">
            <h3>Wie speelt mee?</h3>
            <div id="teamButtons" class="button-group"></div>
        </div>

        <div class="slagen">
            <h3>Behaalde slagen:</h3>
            <div id="slagenButtons" class="button-group"></div>
        </div>

        <button onclick="berekenScore()">Bereken Score</button>
        <button onclick="resetScores()">Reset Scores</button>

        <h3>Huidige Scores:</h3>
        <table>
            <tr><th>Speler</th><th>Score</th></tr>
            <tr><td id="naam1">Speler 1</td><td id="score1">0</td></tr>
            <tr><td id="naam2">Speler 2</td><td id="score2">0</td></tr>
            <tr><td id="naam3">Speler 3</td><td id="score3">0</td></tr>
            <tr><td id="naam4">Speler 4</td><td id="score4">0</td></tr>
        </table>

        <h3>Historiek:</h3>
        <div id="historiek"></div>
    </div>

    <script>
        const contracten = ["Samen 8", "Solo 5", "Samen 9", "Solo 6", "Samen 10", "Solo 7", "Samen 11", "Kleine Miserie", "Samen 12", "Solo 8", "Piccolo", "Samen 13", "Solo 9", "Troel 8", "Grote Miserie", "Solo 10", "Solo 11", "Open Miserie", "Solo 12", "Solo Slim 13"];
        const spelers = ["1", "2", "3", "4"];
        
        function createButtons(containerId, options, onClickFunction) {
            const container = document.getElementById(containerId);
            options.forEach(option => {
                let btn = document.createElement("button");
                btn.innerText = option;
                btn.onclick = () => onClickFunction(btn, option);
                container.appendChild(btn);
            });
        }

        function selectButton(selectedBtn, group) {
            document.querySelectorAll(`#${group} button`).forEach(btn => btn.classList.remove("selected"));
            selectedBtn.classList.add("selected");
        }

        function selectMultipleButton(selectedBtn, group) {
            if (selectedBtn.classList.contains("selected")) {
                selectedBtn.classList.remove("selected");
            } else {
                let selectedCount = document.querySelectorAll(`#${group} .selected`).length;
                if (selectedCount < 1) selectedBtn.classList.add("selected");
            }
        }

        createButtons("contractButtons", contracten, (btn, contract) => selectButton(btn, "contractButtons"));
        createButtons("zetterButtons", spelers, (btn, speler) => selectButton(btn, "zetterButtons"));
        createButtons("teamButtons", spelers, (btn, speler) => selectMultipleButton(btn, "teamButtons"));
        createButtons("slagenButtons", Array.from({length: 14}, (_, i) => i.toString()), (btn, slagen) => selectButton(btn, "slagenButtons"));
    </script>
</body>
</html>
